Version 4.1
SHEET 1 1164 724
WIRE 112 -384 16 -384
WIRE 16 -336 16 -384
WIRE -208 -224 -224 -224
WIRE -192 -224 -208 -224
WIRE -400 -192 -416 -192
WIRE -384 -192 -400 -192
WIRE -208 -160 -208 -224
WIRE 16 -144 16 -256
WIRE -400 -128 -400 -192
WIRE -208 -64 -208 -80
WIRE -112 -64 -208 -64
WIRE -208 -48 -208 -64
WIRE -400 -16 -400 -48
WIRE 16 0 16 -64
WIRE 272 80 192 80
WIRE 496 80 336 80
WIRE 192 176 192 80
WIRE 192 176 64 176
WIRE 192 240 192 176
WIRE 272 240 192 240
WIRE 496 256 496 80
WIRE 496 256 336 256
WIRE 544 256 496 256
WIRE -48 272 -64 272
WIRE 64 272 32 272
WIRE 176 272 64 272
WIRE 272 272 176 272
WIRE 64 336 64 272
WIRE 64 432 64 400
WIRE 176 464 176 272
WIRE 64 592 64 560
WIRE 64 688 64 656
WIRE 176 688 176 528
WIRE 176 688 64 688
WIRE 64 704 64 688
FLAG 304 224 0
FLAG -400 -16 0
FLAG -400 -192 28V
FLAG 304 288 28V
FLAG 64 176 Vref
IOPIN 64 176 In
FLAG -64 272 Vin
IOPIN -64 272 In
FLAG 544 256 Vout
IOPIN 544 256 Out
FLAG 16 0 0
FLAG 112 -384 Vin
IOPIN 112 -384 Out
FLAG -112 -64 Vref
IOPIN -112 -64 Out
FLAG -208 -224 28V
FLAG -208 32 0
FLAG 64 704 0
SYMBOL voltage -400 -144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 28
SYMBOL diode 48 592 R0
SYMATTR InstName D2
SYMATTR Value BAT54
SYMBOL diode 48 496 R0
SYMATTR InstName D3
SYMATTR Value BAT54
SYMBOL voltage 16 -160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value SINE(0 5 1k 1ms 0 0 2)
SYMBOL voltage 16 -352 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(0 5 1ms 1ns 0 2ms 10ms 1)
SYMBOL voltage -544 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE(28 0 0 1ns 0 10ms 100ms)
SYMBOL OpAmps\\UniversalOpAmp2 304 256 M180
SYMATTR InstName U1
SYMBOL diode 272 96 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value BAT54
SYMBOL res -224 -176 R0
SYMATTR InstName R2
SYMATTR Value 27k
SYMBOL res -224 -64 R0
SYMATTR InstName R3
SYMATTR Value 500
SYMBOL res 48 256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 100k
SYMBOL diode 48 432 R0
SYMATTR InstName D4
SYMATTR Value BAT54
SYMBOL diode 48 336 R0
SYMATTR InstName D5
SYMATTR Value BAT54
SYMBOL cap 160 464 R0
SYMATTR InstName C1
SYMATTR Value 10n
TEXT 544 -328 Left 2 !.tran 0 5ms 0 0.1u startup uic
RECTANGLE Normal 992 -144 528 -352 2
